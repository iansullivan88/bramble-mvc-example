{% extends "layout.html" %}

{% block content %}

<section id="post-list">
    {% if showIntro %}
        <p class="intro">Welcome to my test blog generated by Bramble MVC. The blog bosts a whopping {{ numberOfPosts }} posts mostly containing <a href="http://baconipsum.com/">Bacon Ipsum</a>.</p>
    {% endif %}
    
	{% for post in posts %}
    
    <article>
        <a href="{{ url('/blog/post/' + post.uniqueName) }}">
            <h2>{{ post.title }}</h2>
        </a>
        <section class='post-info'>
            <a href="{{ url('/blog/author/' + post.author) }}">{{ post.author }}</a>
            <time dateTime="{{ post.publishedISO8601 }}">{{ post.publishedFormatted }}</time>
            <p>{{ post.preview }}</p>
        </section>
    </article>
    
	{% endfor %}
</section>

{% if showPageControls %}
    <section id="paging">

        {% if hasNewerPage %}
            <a class="page-button" href="{{ url('/blog/page/' + (pageNumber-1)) }}">&lt; Newer</a>
        {% else %}
            <span class="page-button disabled">&lt; Newer</span>
        {% endif %}

        {% if hasOlderPage %}
            <a class="page-button" href="{{ url('/blog/page/' + (pageNumber+1)) }}">Older &gt;</a>
        {% else %}
            <span class="page-button disabled">Older &gt;</span>
        {% endif %}

    </section>
{% endif %}

{% endblock %}